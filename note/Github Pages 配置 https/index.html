<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.18.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" href="http://hugo.xizero.com//index.xml" type="application/rss+xml" title="XIZERO">
<link href="http://hugo.xizero.com/css/block.css" rel="stylesheet">
<script src="http://hugo.xizero.com/js/jqury.min.js"></script>
<script src="http://hugo.xizero.com/js/top.js"></script>


<title>Github Pages é…ç½® https - XIZERO</title>
</head>
<body>

<div id="gotop" title="ğŸš€ go top"></div>


<div class="titlist">
	<span><a href="http://hugo.xizero.com/">Home</a></span>
	<span><a href="http://hugo.xizero.com//tags/">Tags</a></span>
	<span><a href="http://hugo.xizero.com//about">About</a></span>
</div>



<link href="http://hugo.xizero.com/css/context.css" rel="stylesheet">
<link href="http://hugo.xizero.com/css/tomorrow.min.css" rel="stylesheet">
<script src="http://hugo.xizero.com/js/high.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<div class="tit">
	Github Pages é…ç½® https
</div>

<div class="toc">
	<nav id="TableOfContents">
<ul>
<li><a href="#github-pages-é…ç½®-https">Github Pages é…ç½® https</a>
<ul>
<li><a href="#å®‰è£…-nginx">å®‰è£… Nginx</a></li>
<li><a href="#åŸŸåè§£æ">åŸŸåè§£æ</a></li>
<li><a href="#ç”³è¯·è¯ä¹¦">ç”³è¯·è¯ä¹¦</a></li>
<li><a href="#nginx-é…ç½®">Nginx é…ç½®</a></li>
<li><a href="#è¿è¡Œ-nginx">è¿è¡Œ nginx</a></li>
<li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
</ul></li>
</ul>
</nav>
</div>

<div class="con">
	

<h1 id="github-pages-é…ç½®-https">Github Pages é…ç½® https</h1>

<p>Github Pages ä¸æ”¯æŒè‡ªå®šä¹‰åŸŸåhttpsï¼Œè™½ç„¶ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„è§£æä»£ç†å¯ä»¥å®ç°ï¼Œä½†æ˜¯å´ä¸ç¨³å®šä¹Ÿå¹¶ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å¤±æ•ˆï¼Œå‡¡äº‹è¦é è‡ªå·±æ¥ã€‚</p>

<p>æœç´¢æŸ¥æ‰¾ï¼ŒçŸ¥é“ä½¿ç”¨ <strong>Nginx åå‘ä»£ç†</strong> å¯ä»¥å®ç°ã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€äº›ç®€å•çš„ç¬”è®°ï¼Œéœ€è¦ä¸€ä¸ªubuntuç¯å¢ƒçš„äº‘æœåŠ¡å™¨ï¼Œå…¶ä»–ç¯å¢ƒè‡ªè¡ŒæŸ¥æ‰¾ã€‚</p>

<h2 id="å®‰è£…-nginx">å®‰è£… Nginx</h2>

<pre><code>apt-get install nginx
</code></pre>

<h2 id="åŸŸåè§£æ">åŸŸåè§£æ</h2>

<ol>
<li>åˆ é™¤ Github Pages ä¸Šçš„ CNAME ï¼Œä¸ä½¿ç”¨è‡ªå®šä¹‰åŸŸåã€‚</li>
<li>åœ¨åŸŸåè§£æå•†é‚£ï¼Œå°†è‡ªå®šä¹‰åŸŸåç”¨Aè§£æåˆ°äº‘æœåŠ¡å™¨</li>
</ol>

<h2 id="ç”³è¯·è¯ä¹¦">ç”³è¯·è¯ä¹¦</h2>

<p>å¯ä»¥æœç´¢ Letâ€™s Encrypt</p>

<h2 id="nginx-é…ç½®">Nginx é…ç½®</h2>

<p>å¦‚æœé»˜è®¤å®‰è£…ï¼Œ<code>/etc/nginx/conf.d</code> ç›®å½•æ˜¯è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„å­˜æ”¾çš„åœ°æ–¹ï¼Œæ–°å»ºä¸€ä¸ª <code>.conf</code> æ–‡ä»¶ï¼Œæ–‡ä»¶åéšæ„ã€‚</p>

<blockquote>
<p>xxx.com è¡¨ç¤ºä½ çš„è‡ªå®šä¹‰åŸŸå</p>
</blockquote>

<p>æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œç›‘å¬ 80 ï¼Œè®© http è·³è½¬åˆ° https</p>

<pre><code>server {
        listen 80 ;
        server_name xxx.com;
        rewrite ^(.*)$  https://xxx.com$1 permanent;
}
</code></pre>

<p>æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œç›‘å¬ 443 ï¼Œ<code>location /</code> è®¾ç½®åå‘ä»£ç† Github pagesï¼Œ<code>ssl_certificate</code>ç­‰è®¾ç½®è¯ä¹¦ï¼Œæœ€åçš„ <code>location</code> è®¾ç½®ç¼“å­˜æ—¶é—´ã€‚</p>

<blockquote>
<p>æ·»åŠ è¯ä¹¦çš„æ—¶å€™ï¼Œæ³¨æ„è·¯å¾„ï¼Œä½¿ç”¨ <code>nginx -t xxx.conf</code> æŸ¥çœ‹é…ç½®æ–‡ä»¶æ˜¯å¦é”™è¯¯ï¼Œå¤šçœ‹çœ‹æ—¥å¿—</p>
</blockquote>

<pre><code>server {
        listen 443 ssl;
        server_name xxx.com;
        ssl on;
        ssl_certificate conf.d/xxx.com_bundle.crt;
        ssl_certificate_key conf.d/xxx.com.key;
        location / {
                proxy_pass https://xxx.github.io/;
                proxy_redirect     off;
                proxy_set_header   X-Real-IP  $remote_addr;
                proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;
        }
        location ~ /purge(/.*){
            expires 10m;
        }
}
</code></pre>

<h2 id="è¿è¡Œ-nginx">è¿è¡Œ nginx</h2>

<pre><code>service nginx start
</code></pre>

<h2 id="å‚è€ƒ">å‚è€ƒ</h2>

<ul>
<li><a href="https://imciel.com/2016/05/09/github-pages-reverse-proxy-https/">åå‘ä»£ç† GitHub Pages å¹¶é…ç½®åšå®¢ HTTPS è®¿é—®</a></li>
<li><a href="https://taozj.org/201603/blog-site-under-https.html#">æˆ‘çš„åšå®¢ç”¨ä¸ŠHTTPSå•¦</a></li>
<li><a href="https://echo.pm/lnmp-nginx-ssl-https">åœ¨ Nginxï¼ˆLNMPï¼‰ä¸Šé…ç½® NameCheap SSL è¯ä¹¦å¹¶å¼€å¯å¼ºåˆ¶ HTTPS çš„æ–¹æ³•</a></li>
<li><a href="https://segmentfault.com/q/1010000006614489">nginx sslå¼ºåˆ¶è·³è½¬</a></li>
</ul>

</div>

<link href="http://hugo.xizero.com/css/footer.css" rel="stylesheet">

<div class="footer">
	<div class="_hr"><span></span></div>
	@XIZERO Powered by <a href="http://hugo.spf13.com/">Hugo</a> and <a href="#">bigbig</a>
</div>

</body>
</html>

